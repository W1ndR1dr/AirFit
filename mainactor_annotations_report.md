# @MainActor Annotations Report for AirFit

## Summary
Total @MainActor annotations found: 258

## Categories

### 1. Test Files (@MainActor on test classes)
These are test classes marked with @MainActor at the class level:

#### Core Tests
- `AirFit/AirFitTests/Core/CoreSetupTests.swift:8` - @MainActor on class
- `AirFit/AirFitTests/Core/DI/DIBootstrapperTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Data/UserModelTests.swift:5` - @MainActor on class

#### Integration Tests
- `AirFit/AirFitTests/Integration/OnboardingErrorRecoveryTests.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Integration/OnboardingFlowTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Integration/PersonaGenerationTests.swift:5` - @MainActor on class

#### Mock Classes
- `AirFit/AirFitTests/Mocks/MockAIAnalyticsService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockAICoachService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockAIPerformanceAnalytics.swift:7` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockAIService.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockAnalyticsService.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockAPIKeyManager.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockCoachEngine.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockConversationFlowManager.swift:27` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockConversationPersistence.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockDashboardNutritionService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockFoodTrackingCoordinator.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockFoodVoiceAdapter.swift:11` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockFoodVoiceService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockHealthKitService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockLLMOrchestrator.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockNetworkManager.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockNotificationManager.swift:7` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockOnboardingService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockPersonaService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockService.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockViewModel.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockVoiceInputManager.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockWeatherService.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Mocks/MockWhisperModelManager.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Mocks/TestableVoiceInputManager.swift:7` - @MainActor on class

#### Module Tests
- `AirFit/AirFitTests/Modules/AI/ConversationManagerPersistenceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/AI/ConversationManagerTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/AI/FunctionCallDispatcherTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Chat/ChatCoordinatorTests.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Modules/Chat/ChatSuggestionsEngineTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Chat/ChatViewModelTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Dashboard/DashboardViewModelTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Dashboard/Services/AICoachServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Dashboard/Services/DashboardNutritionServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Dashboard/Services/HealthKitServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/FoodTracking/AINutritionParsingIntegrationTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/FoodTracking/AINutritionParsingTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/FoodTracking/FoodTrackingCoordinatorTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/FoodTracking/FoodTrackingViewModelAIIntegrationTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/FoodTracking/FoodTrackingViewModelTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/FoodTracking/FoodVoiceAdapterTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/FoodTracking/Services/NutritionServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Notifications/EngagementEngineTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Onboarding/ConversationViewModelTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingFlowViewTests.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingIntegrationTests.swift:6` - @MainActor on class
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingViewModelTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Settings/SettingsViewModelTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Modules/Workouts/WorkoutCoordinatorTests.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:5` - @MainActor on class

#### Service Tests
- `AirFit/AirFitTests/Services/AI/AIAnalyticsServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/AI/AIGoalServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/AI/AIServiceTests.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Services/AI/AIWorkoutServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/AI/LLMOrchestratorTests.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Services/Analytics/AnalyticsServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/Context/ContextAssemblerTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/Health/HealthKitManagerTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/MockServicesTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/Security/APIKeyManagerTests.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Services/Speech/VoiceInputManagerTests.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Services/User/UserServiceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Services/WeatherServiceTests.swift:4` - @MainActor on class
- `AirFit/AirFitTests/Services/WorkoutSyncServiceTests.swift:4` - @MainActor on class

#### Performance Tests
- `AirFit/AirFitTests/Performance/DirectAIPerformanceTests.swift:5` - @MainActor on class
- `AirFit/AirFitTests/Performance/OnboardingPerformanceTests.swift:6` - @MainActor on class

#### UI Tests
- `AirFit/AirFitUITests/AirFitUITests.swift:11` - @MainActor on class
- `AirFit/AirFitUITests/AirFitUITestsLaunchTests.swift:11` - @MainActor on class
- `AirFit/AirFitUITests/Dashboard/DashboardUITests.swift:4` - @MainActor on class
- `AirFit/AirFitUITests/Onboarding/OnboardingFlowUITests.swift:4` - @MainActor on class
- `AirFit/AirFitUITests/PageObjects/OnboardingFlowPage.swift:4` - @MainActor on class
- `AirFit/AirFitUITests/Pages/BasePage.swift:5` - @MainActor on class
- `AirFit/AirFitUITests/Pages/OnboardingPage.swift:12` - @MainActor on class

#### Test Utilities
- `AirFit/AirFitTests/TestUtils/DITestHelper.swift:6` - @MainActor on class

### 2. Production Code (@MainActor on classes/structs)

#### Core Classes
- `AirFit/Core/DI/DIBootstrapper.swift:31` - @MainActor on class
- `AirFit/Core/DI/DIViewModelFactory.swift:6` - @MainActor on class
- `AirFit/Core/Utilities/AppInitializer.swift:4` - @MainActor on class
- `AirFit/Core/Utilities/AppState.swift:6` - @MainActor on class
- `AirFit/Core/Utilities/HapticManager.swift:5` - @MainActor on class
- `AirFit/Core/Utilities/HealthKitAuthManager.swift:4` - @MainActor on class
- `AirFit/Core/Utilities/NetworkReachability.swift:6` - @MainActor on class
- `AirFit/Data/Managers/DataManager.swift:4` - @MainActor on class

#### Service Classes
- `AirFit/Services/AI/AIAnalyticsService.swift:6` - @MainActor on class
- `AirFit/Services/AI/AIGoalService.swift:5` - @MainActor on class
- `AirFit/Services/AI/AIWorkoutService.swift:6` - @MainActor on class
- `AirFit/Services/AI/LLMOrchestrator.swift:3` - @MainActor on class
- `AirFit/Services/AI/TestModeAIService.swift:4` - @MainActor on class
- `AirFit/Services/Analytics/AnalyticsService.swift:4` - @MainActor on class
- `AirFit/Services/Context/ContextAssembler.swift:5` - @MainActor on class
- `AirFit/Services/Goals/GoalService.swift:5` - @MainActor on class
- `AirFit/Services/Health/HealthKitDataFetcher.swift:5` - @MainActor on class
- `AirFit/Services/Health/HealthKitManager.swift:5` - @MainActor on class
- `AirFit/Services/Health/HealthKitSleepAnalyzer.swift:5` - @MainActor on class
- `AirFit/Services/Monitoring/MonitoringService.swift:5` - @MainActor on class
- `AirFit/Services/Network/NetworkManager.swift:5` - @MainActor on class
- `AirFit/Services/ServiceConfiguration.swift:4` - @MainActor on class
- `AirFit/Services/ServiceRegistry.swift:7` - @MainActor on class
- `AirFit/Services/Speech/VoiceInputManager.swift:5` - @MainActor on class
- `AirFit/Services/Speech/WhisperModelManager.swift:4` - @MainActor on class
- `AirFit/Services/User/UserService.swift:5` - @MainActor on class
- `AirFit/Services/WorkoutSyncService.swift:6` - @MainActor on class

#### Module Classes

##### AI Module
- `AirFit/Modules/AI/CoachEngine.swift:112` - @MainActor on class
- `AirFit/Modules/AI/Components/DirectAIProcessor.swift:5` - @MainActor on class
- `AirFit/Modules/AI/Components/MessageProcessor.swift:4` - @MainActor on class
- `AirFit/Modules/AI/Components/StreamingResponseHandler.swift:7` - @MainActor on class
- `AirFit/Modules/AI/Configuration/RoutingConfiguration.swift:6` - @MainActor on class
- `AirFit/Modules/AI/ConversationManager.swift:5` - @MainActor on class
- `AirFit/Modules/AI/PersonaEngine.swift:5` - @MainActor on class
- `AirFit/Modules/AI/PersonaSynthesis/PreviewGenerator.swift:4` - @MainActor on class
- `AirFit/Modules/AI/WorkoutAnalysisEngine.swift:5` - @MainActor on class

##### Chat Module
- `AirFit/Modules/Chat/Coordinators/ChatCoordinator.swift:4` - @MainActor on class
- `AirFit/Modules/Chat/Services/ChatHistoryManager.swift:4` - @MainActor on class
- `AirFit/Modules/Chat/Services/ChatSuggestionsEngine.swift:3` - @MainActor on class
- `AirFit/Modules/Chat/ViewModels/ChatViewModel.swift:5` - @MainActor on class

##### Dashboard Module
- `AirFit/Modules/Dashboard/Coordinators/DashboardCoordinator.swift:5` - @MainActor on class
- `AirFit/Modules/Dashboard/Services/DashboardNutritionService.swift:5` - @MainActor on class
- `AirFit/Modules/Dashboard/ViewModels/DashboardViewModel.swift:5` - @MainActor on class

##### FoodTracking Module
- `AirFit/Modules/FoodTracking/Coordinators/FoodTrackingCoordinator.swift:4` - @MainActor on class
- `AirFit/Modules/FoodTracking/Services/FoodVoiceAdapter.swift:5` - @MainActor on class
- `AirFit/Modules/FoodTracking/ViewModels/FoodTrackingViewModel.swift:37` - @MainActor on class

##### Notifications Module
- `AirFit/Modules/Notifications/Coordinators/NotificationsCoordinator.swift:5` - @MainActor on class
- `AirFit/Modules/Notifications/Managers/LiveActivityManager.swift:4` - @MainActor on class
- `AirFit/Modules/Notifications/Managers/NotificationManager.swift:4` - @MainActor on class
- `AirFit/Modules/Notifications/Services/EngagementEngine.swift:6` - @MainActor on class
- `AirFit/Modules/Notifications/Services/NotificationContentGenerator.swift:4` - @MainActor on class

##### Onboarding Module
- `AirFit/Modules/Onboarding/Coordinators/ConversationCoordinator.swift:4` - @MainActor on class
- `AirFit/Modules/Onboarding/Coordinators/OnboardingCoordinator.swift:4` - @MainActor on class
- `AirFit/Modules/Onboarding/Coordinators/OnboardingFlowCoordinator.swift:5` - @MainActor on class
- `AirFit/Modules/Onboarding/Services/ConversationFlowManager.swift:4` - @MainActor on class
- `AirFit/Modules/Onboarding/Services/ConversationPersistence.swift:4` - @MainActor on class
- `AirFit/Modules/Onboarding/Services/OnboardingOrchestrator.swift:4` - @MainActor on class
- `AirFit/Modules/Onboarding/Services/OnboardingProgressManager.swift:10` - @MainActor on class
- `AirFit/Modules/Onboarding/Services/OnboardingRecovery.swift:25` - @MainActor on class
- `AirFit/Modules/Onboarding/Services/PersonaService.swift:7` - @MainActor on class
- `AirFit/Modules/Onboarding/ViewModels/ConversationViewModel.swift:4` - @MainActor on class
- `AirFit/Modules/Onboarding/ViewModels/OnboardingViewModel.swift:13` - @MainActor on class

##### Settings Module
- `AirFit/Modules/Settings/Coordinators/SettingsCoordinator.swift:4` - @MainActor on class
- `AirFit/Modules/Settings/Services/UserDataExporter.swift:5` - @MainActor on class
- `AirFit/Modules/Settings/ViewModels/SettingsViewModel.swift:5` - @MainActor on class

##### Workouts Module
- `AirFit/Modules/Workouts/Coordinators/WorkoutCoordinator.swift:4` - @MainActor on class
- `AirFit/Modules/Workouts/Services/WorkoutService.swift:4` - @MainActor on class
- `AirFit/Modules/Workouts/ViewModels/WorkoutViewModel.swift:5` - @MainActor on class

#### Protocols
- `AirFit/Core/Protocols/DashboardServiceProtocols.swift:5` - @MainActor on protocol
- `AirFit/Core/Protocols/ErrorHandling.swift:6` - @MainActor on protocol
- `AirFit/Core/Protocols/FoodTrackingCoordinatorProtocol.swift:4` - @MainActor on protocol
- `AirFit/Core/Protocols/FoodVoiceAdapterProtocol.swift:4` - @MainActor on protocol
- `AirFit/Core/Protocols/FoodVoiceServiceProtocol.swift:5` - @MainActor on protocol
- `AirFit/Core/Protocols/GoalServiceProtocol.swift:5` - @MainActor on protocol
- `AirFit/Core/Protocols/HealthKitManagerProtocol.swift:3` - @MainActor on protocol
- `AirFit/Core/Protocols/NetworkManagementProtocol.swift:4` - @MainActor on protocol
- `AirFit/Core/Protocols/ViewModelProtocol.swift:5` - @MainActor on protocol
- `AirFit/Core/Protocols/VoiceInputProtocol.swift:4` - @MainActor on protocol

### 3. @MainActor on Functions/Methods

#### Test Methods
- `AirFit/AirFitTests/Core/CoreSetupTests.swift:24` - @MainActor func
- `AirFit/AirFitTests/Core/CoreSetupTests.swift:42` - @MainActor func
- `AirFit/AirFitTests/Core/CoreSetupTests.swift:52` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/CoachEngineTests.swift:212` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/LocalCommandParserTests.swift:7` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/LocalCommandParserTests.swift:15` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/LocalCommandParserTests.swift:23` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/LocalCommandParserTests.swift:29` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:41` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:62` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:82` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:100` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:121` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:140` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:152` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:183` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:206` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:246` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:273` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:325` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:342` - @MainActor func
- `AirFit/AirFitTests/Modules/AI/MessageClassificationTests.swift:348` - @MainActor func
- `AirFit/AirFitTests/Modules/Dashboard/Services/HealthKitServiceTests.swift:965` - @MainActor func
- `AirFit/AirFitTests/Modules/FoodTracking/FoodTrackingViewModelAIIntegrationTests.swift:633` - @MainActor func
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingIntegrationTests.swift:91` - @MainActor func
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingIntegrationTests.swift:190` - @MainActor func
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingIntegrationTests.swift:275` - @MainActor func
- `AirFit/AirFitTests/Modules/Onboarding/OnboardingServiceTests.swift:227` - @MainActor func
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:158` - @MainActor func
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:316` - @MainActor func
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:378` - @MainActor func
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:473` - @MainActor func
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:522` - @MainActor func
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:560` - @MainActor func
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:601` - @MainActor func
- `AirFit/AirFitTests/Services/Context/ContextAssemblerTests.swift:110` - @MainActor func
- `AirFit/AirFitTests/Services/GeminiProviderTests.swift:145` - @MainActor func
- `AirFit/AirFitUITests/AirFitUITests.swift:33` - @MainActor func

#### Production Methods
- `AirFit/Core/DI/DIBootstrapper+Test.swift:7` - @MainActor func
- `AirFit/Core/DI/DIBootstrapper+Test.swift:29` - @MainActor func
- `AirFit/Core/DI/DIContainer.swift:191` - @MainActor func
- `AirFit/Core/DI/DIContainer.swift:214` - @MainActor func
- `AirFit/Core/DI/DIExample.swift:247` - @MainActor func
- `AirFit/Data/Extensions/ModelContainer+Test.swift:42` - @MainActor func
- `AirFit/Data/Extensions/ModelContainer+Test.swift:115` - @MainActor func
- `AirFit/Modules/AI/CoachEngine.swift:1225` - @MainActor func
- `AirFit/Modules/AI/Components/StreamingResponseHandler.swift:216` - @MainActor func
- `AirFit/Modules/AI/Parsing/LocalCommandParser.swift:39` - @MainActor func
- `AirFit/Modules/FoodTracking/Views/FoodConfirmationView.swift:353` - @MainActor func
- `AirFit/Modules/FoodTracking/Views/FoodConfirmationView.swift:368` - @MainActor func
- `AirFit/Modules/FoodTracking/Views/FoodLoggingView.swift:37` - @MainActor func
- `AirFit/Modules/FoodTracking/Views/NutritionSearchView.swift:377` - @MainActor func
- `AirFit/Modules/FoodTracking/Views/PhotoInputView.swift:501` - @MainActor func
- `AirFit/Modules/Onboarding/Coordinators/ConversationCoordinator.swift:127` - @MainActor func
- `AirFit/Modules/Onboarding/Views/InputModalities/VoiceInputView.swift:169` - @MainActor func
- `AirFit/Modules/Workouts/Views/WorkoutListView.swift:291` - @MainActor func
- `AirFit/Modules/Workouts/Views/WorkoutListView.swift:322` - @MainActor func
- `AirFit/Services/ExerciseDatabase.swift:111` - @MainActor func
- `AirFit/Services/Network/NetworkManager.swift:218` - @MainActor func
- `AirFit/Services/Network/RequestOptimizer.swift:199` - @MainActor func
- `AirFit/Services/ServiceRegistry.swift:176` - @MainActor func
- `AirFit/Services/ServiceRegistry.swift:196` - @MainActor func
- `AirFit/Services/Speech/WhisperModelManager.swift:21` - @MainActor func

### 4. Task { @MainActor in } Patterns

These are locations where code uses Task { @MainActor in } for main actor context:

- `AirFit/AirFitTests/Mocks/TestableVoiceInputManager.swift:137` - Task { @MainActor in
- `AirFit/AirFitTests/Modules/AI/ConversationManagerPerformanceTests.swift:363` - group.addTask { @Sendable @MainActor in
- `AirFit/AirFitTests/Modules/Chat/ChatViewModelTests.swift:83` - Task { @MainActor in
- `AirFit/AirFitTests/Modules/Chat/ChatViewModelTests.swift:90` - Task { @MainActor in
- `AirFit/AirFitTests/Modules/Chat/ChatViewModelTests.swift:97` - Task { @MainActor in
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:22` - Task { @MainActor in
- `AirFit/AirFitTests/Modules/Workouts/WorkoutViewModelTests.swift:60` - Task { @MainActor in
- `AirFit/Core/Protocols/ErrorHandling.swift:96` - setLoading: @MainActor @escaping (Bool) -> Void,
- `AirFit/Core/Protocols/ErrorHandling.swift:100` - defer { Task { @MainActor in setLoading(false) } }
- `AirFit/Core/Utilities/DependencyContainer.swift:28` - Task { @MainActor in
- `AirFit/Core/Utilities/DependencyContainer.swift:42` - Task { @MainActor in
- `AirFit/Core/Utilities/DependencyContainer.swift:47` - Task { @MainActor in
- `AirFit/Core/Utilities/DependencyContainer.swift:52` - Task { @MainActor in
- `AirFit/Core/Utilities/HapticManager.swift:26` - Task { @MainActor in
- `AirFit/Core/Utilities/HapticManager.swift:33` - Task { @MainActor in
- `AirFit/Core/Utilities/HapticManager.swift:40` - Task { @MainActor in
- `AirFit/Core/Utilities/HapticManager.swift:47` - Task { @MainActor in
- `AirFit/Core/Utilities/HapticManager.swift:54` - Task { @MainActor in
- `AirFit/Core/Utilities/HapticManager.swift:73` - Task { @MainActor in
- `AirFit/Core/Utilities/NetworkReachability.swift:66` - Task { @MainActor [weak self] in
- `AirFit/Modules/Chat/ViewModels/ChatViewModel.swift:177` - Task { @MainActor in
- `AirFit/Modules/Chat/ViewModels/ChatViewModel.swift:183` - Task { @MainActor in
- `AirFit/Modules/Chat/ViewModels/ChatViewModel.swift:189` - Task { @MainActor in
- `AirFit/Modules/FoodTracking/ViewModels/FoodTrackingViewModel.swift:125` - Task { @MainActor in
- `AirFit/Modules/FoodTracking/ViewModels/FoodTrackingViewModel.swift:132` - Task { @MainActor in
- `AirFit/Modules/FoodTracking/ViewModels/FoodTrackingViewModel.swift:138` - Task { @MainActor in
- `AirFit/Modules/FoodTracking/ViewModels/FoodTrackingViewModel.swift:144` - Task { @MainActor in
- `AirFit/Modules/Onboarding/Coordinators/OnboardingFlowCoordinator.swift:262` - Task { @MainActor in
- `AirFit/Modules/Onboarding/Services/OnboardingOrchestrator.swift:52` - Task { @MainActor in
- `AirFit/Modules/Onboarding/Views/InputModalities/VoiceInputView.swift:129` - Task { @MainActor in
- `AirFit/Modules/Onboarding/Views/InputModalities/VoiceInputView.swift:205` - Task { @MainActor in
- `AirFit/Services/Monitoring/MonitoringService.swift:39` - Task { @MainActor in
- `AirFit/Services/Monitoring/MonitoringService.swift:69` - Task { @MainActor in
- `AirFit/Services/Monitoring/MonitoringService.swift:91` - Task { @MainActor in
- `AirFit/Services/Monitoring/MonitoringService.swift:128` - Task { @MainActor in
- `AirFit/Services/Monitoring/MonitoringService.swift:156` - Task { @MainActor in
- `AirFit/Services/Monitoring/MonitoringService.swift:198` - Task { @MainActor in
- `AirFit/Services/Network/NetworkManager.swift:210` - Task { @MainActor in
- `AirFit/Services/Speech/VoiceInputManager.swift:110` - Task { @MainActor in
- `AirFit/Services/Speech/VoiceInputManager.swift:280` - Task { @MainActor in
- `AirFit/Services/Speech/VoiceInputManager.swift:350` - Task { @MainActor in
- `AirFit/Services/WorkoutSyncService.swift:35` - Task { @MainActor in
- `AirFit/Services/WorkoutSyncService.swift:123` - Task { @MainActor in

### 5. DI Container Registrations with @MainActor

These are dependency injection registrations that use @MainActor:

- `AirFit/AirFitTests/TestUtils/DITestHelper.swift:125` - container.register(ConversationFlowManager.self) { @MainActor container in
- `AirFit/AirFitTests/TestUtils/DITestHelper.swift:131` - container.register(ConversationPersistence.self) { @MainActor container in
- `AirFit/AirFitTests/TestUtils/DITestHelper.swift:136` - container.register(PersonaService.self) { @MainActor container in
- `AirFit/AirFitTests/TestUtils/DITestHelper.swift:160` - container.register(CoachEngine.self) { @MainActor container in

### 6. Protocol Extensions with @MainActor

- `AirFit/Core/Protocols/ViewModelProtocol.swift:33` - @MainActor extension
- `AirFit/Core/Protocols/ViewModelProtocol.swift:51` - @MainActor extension
- `AirFit/Core/Protocols/ViewModelProtocol.swift:72` - @MainActor extension

## Analysis Summary

1. **Heavy @MainActor Usage in Tests**: Almost all test classes are marked with @MainActor at the class level
2. **Service Layer**: Most service classes are marked with @MainActor, which may be overly restrictive
3. **ViewModels and Coordinators**: All ViewModels and Coordinators are appropriately marked with @MainActor
4. **Task Patterns**: Many instances of `Task { @MainActor in }` which could indicate actor boundary crossing issues
5. **Protocol Requirements**: Several protocols require @MainActor conformance, which propagates the requirement

## Potential Issues

1. **Over-annotation**: Many classes that don't need UI access are marked with @MainActor
2. **Test Performance**: All tests running on MainActor could slow down test execution
3. **Concurrency Bottlenecks**: Services marked with @MainActor can't run in parallel
4. **Actor Boundary Crossing**: The numerous `Task { @MainActor in }` patterns suggest frequent context switching